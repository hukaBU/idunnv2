{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL + '/api';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, firstName, lastName) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/register`, {\n          email,\n          password,\n          first_name: firstName,\n          last_name: lastName\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      if (!token) return;\n      try {\n        const response = await axios.default.get(`${API_URL}/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setUser(response.data);\n        await AsyncStorage.default.setItem('user', JSON.stringify(response.data));\n      } catch (error) {\n        console.error('Error refreshing user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":138,"map":[[13,2,27,0,"Object"],[13,8,27,0],[13,9,27,0,"defineProperty"],[13,23,27,0],[13,24,27,0,"exports"],[13,31,27,0],[14,4,27,0,"enumerable"],[14,14,27,0],[15,4,27,0,"get"],[15,7,27,0],[15,18,27,0,"get"],[15,19,27,0],[16,6,27,0],[16,13,27,0,"AuthProvider"],[16,25,27,0],[17,4,27,0],[18,2,27,0],[19,2,121,0,"Object"],[19,8,121,0],[19,9,121,0,"defineProperty"],[19,23,121,0],[19,24,121,0,"exports"],[19,31,121,0],[20,4,121,0,"enumerable"],[20,14,121,0],[21,4,121,0,"get"],[21,7,121,0],[21,18,121,0,"get"],[21,19,121,0],[22,6,121,0],[22,13,121,0,"useAuth"],[22,20,121,0],[23,4,121,0],[24,2,121,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,6,0],[31,8,6,6,"API_URL"],[31,15,6,13],[31,18,6,16,"process"],[31,25,6,23],[31,26,6,24,"env"],[31,29,6,27],[31,30,6,28,"EXPO_PUBLIC_BACKEND_URL"],[31,53,6,51],[31,56,6,54],[31,62,6,60],[32,2,25,0],[32,8,25,6,"AuthContext"],[32,19,25,17],[32,35,25,20],[32,39,25,20,"createContext"],[32,45,25,33],[32,46,25,33,"createContext"],[32,59,25,33],[32,61,25,63,"undefined"],[32,70,25,72],[32,71,25,73],[33,2,27,7],[33,8,27,13,"AuthProvider"],[33,20,27,25],[33,23,27,28,"AuthProvider"],[33,24,27,29],[34,4,27,31,"children"],[35,2,27,71],[35,3,27,72],[35,8,27,77],[36,4,28,2],[36,10,28,8],[36,11,28,9,"user"],[36,15,28,13],[36,17,28,15,"setUser"],[36,24,28,22],[36,25,28,23],[36,28,28,26],[36,32,28,26,"useState"],[36,38,28,34],[36,39,28,34,"useState"],[36,47,28,34],[36,49,28,48],[36,53,28,52],[36,54,28,53],[37,4,29,2],[37,10,29,8],[37,11,29,9,"token"],[37,16,29,14],[37,18,29,16,"setToken"],[37,26,29,24],[37,27,29,25],[37,30,29,28],[37,34,29,28,"useState"],[37,40,29,36],[37,41,29,36,"useState"],[37,49,29,36],[37,51,29,52],[37,55,29,56],[37,56,29,57],[38,4,30,2],[38,10,30,8],[38,11,30,9,"loading"],[38,18,30,16],[38,20,30,18,"setLoading"],[38,30,30,28],[38,31,30,29],[38,34,30,32],[38,38,30,32,"useState"],[38,44,30,40],[38,45,30,40,"useState"],[38,53,30,40],[38,55,30,41],[38,59,30,45],[38,60,30,46],[39,4,32,2],[39,8,32,2,"useEffect"],[39,14,32,11],[39,15,32,11,"useEffect"],[39,24,32,11],[39,26,32,12],[39,32,32,18],[40,6,33,4,"loadStoredAuth"],[40,20,33,18],[40,21,33,19],[40,22,33,20],[41,4,34,2],[41,5,34,3],[41,7,34,5],[41,9,34,7],[41,10,34,8],[42,4,36,2],[42,10,36,8,"loadStoredAuth"],[42,24,36,22],[42,27,36,25],[42,33,36,25,"loadStoredAuth"],[42,34,36,25],[42,39,36,37],[43,6,37,4],[43,10,37,8],[44,8,38,6],[44,14,38,12,"storedToken"],[44,25,38,23],[44,28,38,26],[44,34,38,32,"AsyncStorage"],[44,46,38,44],[44,47,38,44,"default"],[44,54,38,44],[44,55,38,45,"getItem"],[44,62,38,52],[44,63,38,53],[44,70,38,60],[44,71,38,61],[45,8,39,6],[45,14,39,12,"storedUser"],[45,24,39,22],[45,27,39,25],[45,33,39,31,"AsyncStorage"],[45,45,39,43],[45,46,39,43,"default"],[45,53,39,43],[45,54,39,44,"getItem"],[45,61,39,51],[45,62,39,52],[45,68,39,58],[45,69,39,59],[46,8,41,6],[46,12,41,10,"storedToken"],[46,23,41,21],[46,27,41,25,"storedUser"],[46,37,41,35],[46,39,41,37],[47,10,42,8,"setToken"],[47,18,42,16],[47,19,42,17,"storedToken"],[47,30,42,28],[47,31,42,29],[48,10,43,8,"setUser"],[48,17,43,15],[48,18,43,16,"JSON"],[48,22,43,20],[48,23,43,21,"parse"],[48,28,43,26],[48,29,43,27,"storedUser"],[48,39,43,37],[48,40,43,38],[48,41,43,39],[49,8,44,6],[50,6,45,4],[50,7,45,5],[50,8,45,6],[50,15,45,13,"error"],[50,20,45,18],[50,22,45,20],[51,8,46,6,"console"],[51,15,46,13],[51,16,46,14,"error"],[51,21,46,19],[51,22,46,20],[51,43,46,41],[51,45,46,43,"error"],[51,50,46,48],[51,51,46,49],[52,6,47,4],[52,7,47,5],[52,16,47,14],[53,8,48,6,"setLoading"],[53,18,48,16],[53,19,48,17],[53,24,48,22],[53,25,48,23],[54,6,49,4],[55,4,50,2],[55,5,50,3],[56,4,52,2],[56,10,52,8,"login"],[56,15,52,13],[56,18,52,16],[56,24,52,16,"login"],[56,25,52,23,"email"],[56,30,52,36],[56,32,52,38,"password"],[56,40,52,54],[56,45,52,59],[57,6,53,4],[57,10,53,8],[58,8,54,6],[58,14,54,12,"response"],[58,22,54,20],[58,25,54,23],[58,31,54,29,"axios"],[58,36,54,34],[58,37,54,34,"default"],[58,44,54,34],[58,45,54,35,"post"],[58,49,54,39],[58,50,54,40],[58,53,54,43,"API_URL"],[58,60,54,50],[58,73,54,63],[58,75,54,65],[59,10,55,8,"email"],[59,15,55,13],[60,10,56,8,"password"],[61,8,57,6],[61,9,57,7],[61,10,57,8],[62,8,59,6],[62,14,59,12],[63,10,59,14,"access_token"],[63,22,59,26],[64,10,59,28,"user"],[64,14,59,32],[64,16,59,34,"userData"],[65,8,59,43],[65,9,59,44],[65,12,59,47,"response"],[65,20,59,55],[65,21,59,56,"data"],[65,25,59,60],[66,8,61,6],[66,14,61,12,"AsyncStorage"],[66,26,61,24],[66,27,61,24,"default"],[66,34,61,24],[66,35,61,25,"setItem"],[66,42,61,32],[66,43,61,33],[66,50,61,40],[66,52,61,42,"access_token"],[66,64,61,54],[66,65,61,55],[67,8,62,6],[67,14,62,12,"AsyncStorage"],[67,26,62,24],[67,27,62,24,"default"],[67,34,62,24],[67,35,62,25,"setItem"],[67,42,62,32],[67,43,62,33],[67,49,62,39],[67,51,62,41,"JSON"],[67,55,62,45],[67,56,62,46,"stringify"],[67,65,62,55],[67,66,62,56,"userData"],[67,74,62,64],[67,75,62,65],[67,76,62,66],[68,8,64,6,"setToken"],[68,16,64,14],[68,17,64,15,"access_token"],[68,29,64,27],[68,30,64,28],[69,8,65,6,"setUser"],[69,15,65,13],[69,16,65,14,"userData"],[69,24,65,22],[69,25,65,23],[70,6,66,4],[70,7,66,5],[70,8,66,6],[70,15,66,13,"error"],[70,20,66,23],[70,22,66,25],[71,8,67,6],[71,14,67,12],[71,18,67,16,"Error"],[71,23,67,21],[71,24,67,22,"error"],[71,29,67,27],[71,30,67,28,"response"],[71,38,67,36],[71,40,67,38,"data"],[71,44,67,42],[71,46,67,44,"detail"],[71,52,67,50],[71,56,67,54],[71,70,67,68],[71,71,67,69],[72,6,68,4],[73,4,69,2],[73,5,69,3],[74,4,71,2],[74,10,71,8,"register"],[74,18,71,16],[74,21,71,19],[74,27,71,19,"register"],[74,28,71,26,"email"],[74,33,71,39],[74,35,71,41,"password"],[74,43,71,57],[74,45,71,59,"firstName"],[74,54,71,77],[74,56,71,79,"lastName"],[74,64,71,96],[74,69,71,101],[75,6,72,4],[75,10,72,8],[76,8,73,6],[76,14,73,12,"response"],[76,22,73,20],[76,25,73,23],[76,31,73,29,"axios"],[76,36,73,34],[76,37,73,34,"default"],[76,44,73,34],[76,45,73,35,"post"],[76,49,73,39],[76,50,73,40],[76,53,73,43,"API_URL"],[76,60,73,50],[76,76,73,66],[76,78,73,68],[77,10,74,8,"email"],[77,15,74,13],[78,10,75,8,"password"],[78,18,75,16],[79,10,76,8,"first_name"],[79,20,76,18],[79,22,76,20,"firstName"],[79,31,76,29],[80,10,77,8,"last_name"],[80,19,77,17],[80,21,77,19,"lastName"],[81,8,78,6],[81,9,78,7],[81,10,78,8],[82,8,80,6],[82,14,80,12],[83,10,80,14,"access_token"],[83,22,80,26],[84,10,80,28,"user"],[84,14,80,32],[84,16,80,34,"userData"],[85,8,80,43],[85,9,80,44],[85,12,80,47,"response"],[85,20,80,55],[85,21,80,56,"data"],[85,25,80,60],[86,8,82,6],[86,14,82,12,"AsyncStorage"],[86,26,82,24],[86,27,82,24,"default"],[86,34,82,24],[86,35,82,25,"setItem"],[86,42,82,32],[86,43,82,33],[86,50,82,40],[86,52,82,42,"access_token"],[86,64,82,54],[86,65,82,55],[87,8,83,6],[87,14,83,12,"AsyncStorage"],[87,26,83,24],[87,27,83,24,"default"],[87,34,83,24],[87,35,83,25,"setItem"],[87,42,83,32],[87,43,83,33],[87,49,83,39],[87,51,83,41,"JSON"],[87,55,83,45],[87,56,83,46,"stringify"],[87,65,83,55],[87,66,83,56,"userData"],[87,74,83,64],[87,75,83,65],[87,76,83,66],[88,8,85,6,"setToken"],[88,16,85,14],[88,17,85,15,"access_token"],[88,29,85,27],[88,30,85,28],[89,8,86,6,"setUser"],[89,15,86,13],[89,16,86,14,"userData"],[89,24,86,22],[89,25,86,23],[90,6,87,4],[90,7,87,5],[90,8,87,6],[90,15,87,13,"error"],[90,20,87,23],[90,22,87,25],[91,8,88,6],[91,14,88,12],[91,18,88,16,"Error"],[91,23,88,21],[91,24,88,22,"error"],[91,29,88,27],[91,30,88,28,"response"],[91,38,88,36],[91,40,88,38,"data"],[91,44,88,42],[91,46,88,44,"detail"],[91,52,88,50],[91,56,88,54],[91,77,88,75],[91,78,88,76],[92,6,89,4],[93,4,90,2],[93,5,90,3],[94,4,92,2],[94,10,92,8,"logout"],[94,16,92,14],[94,19,92,17],[94,25,92,17,"logout"],[94,26,92,17],[94,31,92,29],[95,6,93,4],[95,12,93,10,"AsyncStorage"],[95,24,93,22],[95,25,93,22,"default"],[95,32,93,22],[95,33,93,23,"removeItem"],[95,43,93,33],[95,44,93,34],[95,51,93,41],[95,52,93,42],[96,6,94,4],[96,12,94,10,"AsyncStorage"],[96,24,94,22],[96,25,94,22,"default"],[96,32,94,22],[96,33,94,23,"removeItem"],[96,43,94,33],[96,44,94,34],[96,50,94,40],[96,51,94,41],[97,6,95,4,"setToken"],[97,14,95,12],[97,15,95,13],[97,19,95,17],[97,20,95,18],[98,6,96,4,"setUser"],[98,13,96,11],[98,14,96,12],[98,18,96,16],[98,19,96,17],[99,4,97,2],[99,5,97,3],[100,4,99,2],[100,10,99,8,"refreshUser"],[100,21,99,19],[100,24,99,22],[100,30,99,22,"refreshUser"],[100,31,99,22],[100,36,99,34],[101,6,100,4],[101,10,100,8],[101,11,100,9,"token"],[101,16,100,14],[101,18,100,16],[102,6,102,4],[102,10,102,8],[103,8,103,6],[103,14,103,12,"response"],[103,22,103,20],[103,25,103,23],[103,31,103,29,"axios"],[103,36,103,34],[103,37,103,34,"default"],[103,44,103,34],[103,45,103,35,"get"],[103,48,103,38],[103,49,103,39],[103,52,103,42,"API_URL"],[103,59,103,49],[103,69,103,59],[103,71,103,61],[104,10,104,8,"headers"],[104,17,104,15],[104,19,104,17],[105,12,104,19,"Authorization"],[105,25,104,32],[105,27,104,34],[105,37,104,44,"token"],[105,42,104,49],[106,10,104,52],[107,8,105,6],[107,9,105,7],[107,10,105,8],[108,8,107,6,"setUser"],[108,15,107,13],[108,16,107,14,"response"],[108,24,107,22],[108,25,107,23,"data"],[108,29,107,27],[108,30,107,28],[109,8,108,6],[109,14,108,12,"AsyncStorage"],[109,26,108,24],[109,27,108,24,"default"],[109,34,108,24],[109,35,108,25,"setItem"],[109,42,108,32],[109,43,108,33],[109,49,108,39],[109,51,108,41,"JSON"],[109,55,108,45],[109,56,108,46,"stringify"],[109,65,108,55],[109,66,108,56,"response"],[109,74,108,64],[109,75,108,65,"data"],[109,79,108,69],[109,80,108,70],[109,81,108,71],[110,6,109,4],[110,7,109,5],[110,8,109,6],[110,15,109,13,"error"],[110,20,109,18],[110,22,109,20],[111,8,110,6,"console"],[111,15,110,13],[111,16,110,14,"error"],[111,21,110,19],[111,22,110,20],[111,46,110,44],[111,48,110,46,"error"],[111,53,110,51],[111,54,110,52],[112,6,111,4],[113,4,112,2],[113,5,112,3],[114,4,114,2],[114,24,115,4],[114,28,115,4,"_reactJsxDevRuntime"],[114,47,115,4],[114,48,115,4,"jsxDEV"],[114,54,115,4],[114,56,115,5,"AuthContext"],[114,67,115,16],[114,68,115,17,"Provider"],[114,76,115,25],[115,6,115,26,"value"],[115,11,115,31],[115,13,115,33],[116,8,115,35,"user"],[116,12,115,39],[117,8,115,41,"token"],[117,13,115,46],[118,8,115,48,"loading"],[118,15,115,55],[119,8,115,57,"login"],[119,13,115,62],[120,8,115,64,"register"],[120,16,115,72],[121,8,115,74,"logout"],[121,14,115,80],[122,8,115,82,"refreshUser"],[123,6,115,94],[123,7,115,96],[124,6,115,96,"children"],[124,14,115,96],[124,16,116,7,"children"],[125,4,116,15],[126,6,116,15,"fileName"],[126,14,116,15],[126,16,116,15,"_jsxFileName"],[126,28,116,15],[127,6,116,15,"lineNumber"],[127,16,116,15],[128,6,116,15,"columnNumber"],[128,18,116,15],[129,4,116,15],[129,11,117,26],[129,12,117,27],[130,2,119,0],[130,3,119,1],[131,2,121,7],[131,8,121,13,"useAuth"],[131,15,121,20],[131,18,121,23,"useAuth"],[131,19,121,23],[131,24,121,29],[132,4,122,2],[132,10,122,8,"context"],[132,17,122,15],[132,20,122,18],[132,24,122,18,"useContext"],[132,30,122,28],[132,31,122,28,"useContext"],[132,41,122,28],[132,43,122,29,"AuthContext"],[132,54,122,40],[132,55,122,41],[133,4,123,2],[133,8,123,6,"context"],[133,15,123,13],[133,20,123,18,"undefined"],[133,29,123,27],[133,31,123,29],[134,6,124,4],[134,12,124,10],[134,16,124,14,"Error"],[134,21,124,19],[134,22,124,20],[134,67,124,65],[134,68,124,66],[135,4,125,2],[136,4,126,2],[136,11,126,9,"context"],[136,18,126,16],[137,2,127,0],[137,3,127,1],[138,0,127,2],[138,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","refreshUser","useAuth"],"mappings":"AAA;4BC0B;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJmB;iBKE;GLK;sBME;GNa;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}